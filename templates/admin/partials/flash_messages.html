{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="space-y-2 mb-6">
        {% for category, message in messages %}
            {% set category_color = 'blue' %}
            {% if category == 'success' %}
                {% set category_color = 'green' %}
            {% elif category == 'danger' or category == 'error' %}
                {% set category_color = 'red' %}
            {% elif category == 'warning' %}
                {% set category_color = 'yellow' %}
            {% endif %}

            <div class="bg-{{ category_color }}-100 border-l-4 border-{{ category_color }}-500 text-{{ category_color }}-700 p-4 rounded-md shadow-sm" role="alert">
                <p class="font-bold">{{ category|capitalize }}</p>
                <p>{{ message }}</p>
            </div>
        {% endfor %}
        </div>
    {% endif %}
{% endwith %}